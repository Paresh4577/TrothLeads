@import "../../../../../styles/base/global-variables";

gnx-sidenav {
  position: sticky;
  display: flex;
  flex-direction: column;
  flex: 1 0 auto;
  top: 0px;
  width: $gnx-sidenav-width;
  min-width: $gnx-sidenav-width;
  max-width: $gnx-sidenav-width;
  height: calc(100vh - 64px);
  min-height: calc(100vh - 64px);
  max-height: calc(100vh - 64px);
  z-index: 200;

  //Animations
  transition-duration: 400ms;
  transition-timing-function: cubic-bezier(0.25, 0.8, 0.25, 1);
  transition-property: visibility, margin-left, margin-right, transform, width,
    max-width, min-width;

  .gnx-sidenav-wrapper {
    transition-duration: 400ms;
    transition-timing-function: cubic-bezier(0.25, 0.8, 0.25, 1);
    transition-property: width, max-width, min-width;
  }

  &.mode-over {
    position: absolute;
    top: 0;
    bottom: 0;
  }

  // position left
  &.position-left {
    //mode side
    &.mode-side {
      margin-left: calc($gnx-sidenav-width * -1);
      &.opened {
        margin-left: 0;
      }
    }

    //mode over
    &.mode-over {
      left: 0;
      transform: translate3d(-100%, 0, 0);
      &.opened {
        transform: translate3d(0, 0, 0);
      }
    }

    //wrapper
    .gnx-sidenav-wrapper {
      left: 0;
    }
  }

  //position right
  &.position-right {
    //mode side
    &.mode-side {
      margin-right: calc($gnx-sidenav-width * -1);
    }

    &.opened {
      margin-right: 0;
    }

    //mode over
    &.mode-over {
      right: 0;
      transform: translateX(100%);

      &.opened {
        transform: translateX(0);
      }
    }

    //wrapper
    .gnx-sidenav-wrapper {
      right: 0;
    }
  }

  /* Wrapper */
  .gnx-sidenav-wrapper {
    position: absolute;
    display: flex;
    flex: 1 1 auto;
    flex-direction: column;
    top: 0;
    bottom: 0;
    width: 100%;
    height: 100%;
    overflow: hidden;
    z-index: 10;
    background: inherit;
    box-shadow: inset -1px 0 0 var(--gnx-border);

    /* Content */
    .gnx-sidenav-content {
      flex: 1 1 auto;
      overflow-x: hidden;
      overflow-y: auto;
      overscroll-behavior: contain;

      /* Divider */
       > .divider {
        margin: 24px 0;
      }

      /* Group */
      //  > gnx-sidenav-group-item {
      //   margin-top: 24px;
      // }
    }
  }

  /* ----------------------------------------------------------------------------------------------------- */
  /* @ Menu Items
/* ----------------------------------------------------------------------------------------------------- */

  /* Common styles */

  gnx-sidenav-basic-item,
  gnx-sidenav-collapsible-item,
  gnx-sidenav-group-item {
    display: flex;
    flex-direction: column;
    flex: 1 0 auto;
    user-select: none;

    .gnx-menu-item-wrapper {
      .gnx-menu-item {
        position: relative;
        display: flex;
        align-items: center;
        justify-content: flex-start;
        padding: 10px 16px;
        font-size: 1rem;
        font-weight: 500;
        line-height: 20px;
        text-decoration: none;
        border-radius: 6px;

        /* Disabled state */
        &.gnx-menu-item-disabled {
          cursor: default;
          opacity: 0.4;
        }

        .gnx-menu-item-icon {
          margin-right: 16px;
        }

        .gnx-menu-item-title-wrapper {
          .gnx-menu-item-subtitle {
            font-size: 11px;
            line-height: 1.5;
          }
        }

        .gnx-menu-item-badge {
          margin-left: auto;

          .gnx-menu-item-badge-content {
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 10px;
            font-weight: 600;
            white-space: nowrap;
            height: 20px;
          }
        }
      }
    }
  }

  gnx-sidenav-basic-item,
  gnx-sidenav-collapsible-item,
  gnx-sidenav-group-item {
    > .gnx-menu-item-wrapper {
      margin: 0 12px;
    }
  }

  gnx-sidenav-basic-item,
  gnx-sidenav-collapsible-item {
    margin-bottom: 4px;

    > .gnx-menu-item {
      cursor: pointer;
    }
  }

  /* Collapsible */
  gnx-sidenav-collapsible-item {
    > .gnx-menu-item-wrapper {
      .gnx-menu-item {
        .gnx-menu-item-badge {
          + .gnx-menu-item-arrow {
            margin-left: 8px;
          }
        }

        .gnx-menu-item-arrow {
          height: 20px;
          line-height: 20px;
          margin-left: auto;
          transition: transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),
             color 375ms cubic-bezier(0.25, 0.8, 0.25, 1);

        }
      }
    }

    &.gnx-menu-item-expanded {
      > .gnx-menu-item-wrapper {
        .gnx-menu-item {
          .gnx-menu-item-arrow {
            transform: rotate(90deg);
          }
        }
      }
    }

    &.gnx-menu-item-children {
      > *:first-child {
        margin-top: 6px;
      }

      > *:last-child {
        margin-bottom: 6px;
        > .gnx-menu-item-children {
          > *:last-child {
            padding-bottom: 0;
          }
        }
      }

      .gnx-menu-item {
        padding: 10px 16px;
      }
    }

    /* Level 1 */
    .gnx-menu-item-children {
      overflow: hidden;

      .gnx-menu-item {
        padding-left: 56px;
      }

      /* Level 2 */
      .gnx-menu-item-children {
        .gnx-menu-item {
          padding-left: 72px;
        }

        /* Level 3 */
        .gnx-menu-item-children {
          .gnx-menu-item {
            padding-left: 88px;
          }
        }
      }
    }
  }

  .divider {
    margin: 12px 0;
    height: 1px;
    box-shadow: 0 1px 0 0;
    color: var(--gnx-divider);
  }

  gnx-sidenav-group-item {
    > .gnx-menu-item-wrapper {
      .gnx-menu-item {
        .gnx-menu-item-badge,
        .gnx-menu-item-icon {
          display: none !important;
        }

        .gnx-menu-item-title-wrapper {
          .gnx-menu-item-title {
            font-size: 12px;
            font-weight: 500;
            letter-spacing: 0.15rem;
            text-transform: uppercase;
          }
        }
      }
    }
  }
}

/* ----------------------------------------------------------------------------------------------------- */
/* @ Navigation Items Colors
/* ----------------------------------------------------------------------------------------------------- */

/* Navigation items common */
gnx-sidenav-basic-item,
gnx-sidenav-collapsible-item,
gnx-sidenav-group-item {
  .gnx-menu-item-wrapper {
    .gnx-menu-item {
      color: currentColor;

      .gnx-menu-item-icon {
        @apply text-current opacity-60;
      }

      .gnx-menu-item-title-wrapper {
      //   .gnx-menu-item-title {
      //     @apply text-current opacity-80;
      //   }

        .gnx-menu-item-subtitle {
          @apply text-current opacity-50;
        }
      }
    }
  }
}

/* Basic, Collapsible */
gnx-sidenav-basic-item,
gnx-sidenav-collapsible-item {
  > .gnx-menu-item-wrapper {
    .gnx-menu-item {
      /* Active state */
      &:not(.gnx-menu-item-disabled) {
        &.gnx-menu-item-active,
        &.gnx-menu-item-active-forced {
          @apply bg-gray-800 bg-opacity-5 dark:bg-white dark:bg-opacity-12;

          .gnx-menu-item-icon {
            @apply opacity-100;
          }

          .gnx-menu-item-title {
            @apply opacity-100;
          }

          .gnx-menu-item-subtitle {
            @apply opacity-100;
          }
        }
      }

      /* Hover state */
      &:not(.gnx-menu-item-active-forced):not(.gnx-menu-item-active):not(
          .gnx-menu-item-disabled
        ) {
        &:hover {
          @apply bg-gray-800 bg-opacity-5 dark:bg-white dark:bg-opacity-12;

          .gnx-menu-item-icon {
            @apply opacity-100;
          }

          .gnx-menu-item-title,
          .gnx-menu-item-arrow {
            @apply opacity-100;
          }

          .gnx-menu-item-subtitle {
            @apply opacity-100;
          }
        }
      }
    }
  }
}

/* Collapsible */
gnx-sidenav-collapsible-item {
  /* Expanded state */
  &.gnx-menu-item-expanded {
    > .gnx-menu-item-wrapper {
      .gnx-menu-item {
        .gnx-menu-item-icon {
          @apply opacity-100;
        }

        .gnx-menu-item-title,
        .gnx-menu-item-arrow {
          @apply opacity-100;
        }

        .gnx-menu-item-subtitle {
          @apply opacity-100;
        }
      }
    }
  }
}

/* Group */
gnx-sidenav-group-item {
  > .gnx-menu-item-wrapper {
    .gnx-menu-item {
      .gnx-menu-item-title-wrapper {
        .gnx-menu-item-title {
          @apply opacity-100 text-primary-600 dark:text-primary-400 #{!important};
        }
      }
    }
  }
}
