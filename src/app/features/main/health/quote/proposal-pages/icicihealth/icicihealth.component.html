<div class="px-4 pb-4 max-h-none w-full">
  <!-- region main heading -->
  <div class="sm:sticky top-0 pt-4 z-40 bg-default">
    <h1 class="new-head text-lg px-4 py-1.5 rounded flex justify-between items-center font-semibold">
      {{ pagetitle }} - {{ ProductName }}

      <div class="flex gap-x-3  items-center text-lg font-normal">
        <button (click)="backClick()" mat-raised-button class="new-button">
          Back to Quotations
        </button>
      </div>
    </h1>
    <!-- endregion main heading -->

    <gnx-info-header [Icon]="logo"
                        [InsuredPeople]="InsuredPeople"
                        [member]="member"
                        [ReqSumInsured]="ReqSumInsured"
                        [PolicyType]="PolicyType"
                        [PolicyPeriod]="Policies?.PolicyPeriodName"
                        [TotalPremium]="Policies?.AddOnvalue"
                        [LSInsurer]="Insurer"

    >
    </gnx-info-header>
    <!-- <div class="px-4 py-7 rounded bg-white">
      <mat-card class="bg-sky-100 px-4 py-3 gap-2 container mx-auto">
        <form [formGroup]="buyICICIHeathForm">
          <div formGroupName="PolicyDetail"
            class="grid lg:grid-cols-[minmax(140px,150px)_minmax(200px,1fr)_1fr_1fr_1fr_1fr] md:grid-cols-2 sm:grid-cols-2 grid-cols-1 gap-6">

            <div>
              <img class="w-40 mt-3" src="{{ logo }}" alt="logo" />
            </div>

            <div class="sm:grid-cols-1 grid grid-cols-[minmax(100px,250px)_minmax(250px,500px)] self-center">
              <div class="flex gap-3">
                <small><span class="font-bold"> {{ InsuredPeople }}</span> Person<span
                    *ngIf="InsuredPeople > 1">s</span> Insured</small>
              </div>

              <div class="grid grid-cols-7 w-fit">
                <div *ngFor="let item of member" class="h-min">
                  <img src="{{ item.member }}" alt="" class="h-7 w-7" />
                </div>
              </div>
            </div>
            <div class="sm:grid-cols-1 grid grid-cols-2 self-center">
              <small>Sum Insured</small>
              <span class="font-bold text-black">
                {{ ReqSumInsured | indCurrency }}
              </span>
            </div>
            <div class="sm:grid-cols-1 grid grid-cols-2 self-center">
              <small>Policy Type</small>
              <span class="font-bold text-black"> {{ PolicyType }}</span>
            </div>
            <div class="sm:grid-cols-1 grid grid-cols-2 self-center">
              <small>Policy Period</small>
              <span class="font-bold text-black"> {{ PolicyPeriod }}</span>
            </div>
            <div class="sm:grid-cols-1 grid grid-cols-2 self-center">
              <small>Gross Premium</small>
              <span class="font-bold text-black">
                {{ TotalPremium | indCurrency }}</span>
              <small>Inclusive of Taxes</small>
            </div>
          </div>
        </form>
      </mat-card>
    </div> -->
  </div>
  <!-- form -->

  <div class="py-3">
    <mat-stepper orientation="vertical" linear #stepper>

      <!-- First stepper -->
      <mat-step [stepControl]="StepOneSubmit(stepper)" label="Proposer Details">
        <form [formGroup]="buyICICIHeathForm">
          <div formGroupName="PolicyHolder" class="md:grid space-y-3 grid-cols-1">
            <div class="md:grid space-y-3 grid-cols-2 lg:grid-cols-3 gap-x-9 mt-2">
              <!-- First Name -->
              <div [ngClass]="flag ? 'pointer-events-none': 'pointer-events-auto'" class="relative self-end">
                <div class="icon">
                  <mat-icon>person</mat-icon>
                </div>
                <input type="text" id="FirstName" AlphabetOnly formControlName="FirstName" placeholder=" " class="peer" />
                <label for="FirstName" class="mandatory">First Name</label>
              </div>

              <!-- MiddleName -->
              <div [ngClass]="flag ? 'pointer-events-none': 'pointer-events-auto'" class="relative">
                <div class="icon">
                  <mat-icon>person</mat-icon>
                </div>
                <input type="text" id="MiddleName" AlphabetOnly formControlName="MiddleName" placeholder=" " class="peer" />
                <label for="MiddleName">Middle Name</label>
              </div>

              <!-- Last Name -->
              <div [ngClass]="flag ? 'pointer-events-none': 'pointer-events-auto'" class="relative">
                <div class="icon">
                  <mat-icon>person</mat-icon>
                </div>
                <input type="text" id="LastName" AlphabetOnly formControlName="LastName" placeholder=" " class="peer" />
                <label for="LastName" class="mandatory">Last Name</label>
              </div>

              <!-- Gender  -->
              <div [ngClass]="flag ? 'pointer-events-none': 'pointer-events-auto'" class="relative">
                <div class="icon">
                  <mat-icon>person_outline</mat-icon>
                </div>
                <select id="Gender" name="Gender" class="peer" formControlName="Gender" placeholder=" ">
                  <option value="0">-- Select --</option>
                  <option class="example-radio-button" *ngFor="let option of GenderList" [value]="option.Code">
                    {{ option.Name }}
                  </option>
                </select>
                <label class="Gender" class="mandatory">Gender</label>
              </div>

              <!-- DOB  -->
              <div [ngClass]="flag ? 'pointer-events-none': 'pointer-events-auto'" class="relative max-w-fit min-w-40">
                <div class="flex">
                  <div class="icon">
                    <mat-datepicker-toggle class="-ml-2" matIconSuffix [for]="dob"></mat-datepicker-toggle>
                    <mat-datepicker #dob></mat-datepicker>
                  </div>
                  <input matInput type="text" id="DOB" formControlName="DOB" class="peer" placeholder="__/__/____"
                    datemask [matDatepicker]="dob" [max]="maxBirthDate" />
                  <label for="DOB" class="mandatory">Date of Birth</label>
                </div>
              </div>
            </div>

            <!-- Nominee Details -->
            <div class="col-span-2 lg:col-span-4 pt-2 font-semibold">
              <p>Nominee Details</p>
            </div>

            <div class="md:grid space-y-3 grid-cols-2 lg:grid-cols-3 gap-x-9">
              <!-- Nominee First Name -->
              <div class="relative self-end">
                <div class="icon">
                  <mat-icon>person</mat-icon>
                </div>
                <input type="text" id="NomineeFirstName" AlphabetOnly formControlName="NomineeFirstName" placeholder=" "
                  class="peer" />
                <label for="NomineeFirstName" class="mandatory">First Name</label>
              </div>

              <!-- Nominee Middle Name -->
              <div class="relative">
                <div class="icon">
                  <mat-icon>person</mat-icon>
                </div>
                <input type="text" id="NomineeMiddleName"AlphabetOnly formControlName="NomineeMiddleName" placeholder=" "
                  class="peer" />
                <label for="NomineeMiddleName">Middle Name</label>
              </div>

              <!-- Nominee Last Name -->
              <div class="relative">
                <div class="icon">
                  <mat-icon>person</mat-icon>
                </div>
                <input type="text" id="NomineeLastName" AlphabetOnly formControlName="NomineeLastName" placeholder=" "
                  class="peer" />
                <label for="NomineeLastName" class="mandatory">Last Name</label>
              </div>

              <!-- Nominee Relation  -->
              <div class="relative min-w-36">
                <div class="icon">
                  <mat-icon>people</mat-icon>
                </div>
                <select id="NomineeRelation" name="NomineeRelation" class="peer" formControlName="NomineeRelation"
                  placeholder=" ">
                  <option value="0">-- Select --</option>
                  <option class="example-radio-button" *ngFor="let option of NomineeRelationList" [value]="option.Code">
                    {{ option.Name }}
                  </option>
                </select>
                <label for="NomineeRelation" class="mandatory">Relation</label>
              </div>

              <!-- Nominee DOB  -->
              <div class="relative max-w-fit min-w-40">
                <div class="flex">
                  <div class="icon">
                    <mat-datepicker-toggle class="-ml-2" matIconSuffix [for]="NomineeDOB"></mat-datepicker-toggle>
                    <mat-datepicker #NomineeDOB></mat-datepicker>
                  </div>
                  <input matInput type="text" id="NomineeDOB" formControlName="NomineeDOB" class="peer"
                    placeholder="__/__/____" datemask [matDatepicker]="NomineeDOB" [max]="maxBirthDate" />
                  <label for="NomineeDOB" class="mandatory">Date of Birth</label>
                </div>
              </div>
            </div>

            <!-- Appointee Details -->
            <div *ngIf="notAdult" class="col-span-2 lg:col-span-4 pt-2 font-semibold">
              <p>Appointee Details</p>
            </div>

            <div *ngIf="notAdult" class="md:grid space-y-3 grid-cols-2 lg:grid-cols-3 gap-x-9">
              <!-- Appointee First Name -->
              <div class="relative self-end">
                <div class="icon">
                  <mat-icon>person</mat-icon>
                </div>
                <input type="text" id="AppointeeFirstName" AlphabetOnly formControlName="AppointeeFirstName" placeholder=" "
                  class="peer" />
                <label for="AppointeeFirstName" class="mandatory">First Name</label>
              </div>

              <!-- Appointee Middle Name -->
              <div class="relative">
                <div class="icon">
                  <mat-icon>person</mat-icon>
                </div>
                <input type="text" id="AppointeeMiddleName" AlphabetOnly formControlName="AppointeeMiddleName" placeholder=" "
                  class="peer" />
                <label for="AppointeeMiddleName">Middle Name</label>
              </div>

              <!-- Appointee Last Name -->
              <div class="relative">
                <div class="icon">
                  <mat-icon>person</mat-icon>
                </div>
                <input type="text" id="AppointeeLastName" AlphabetOnly formControlName="AppointeeLastName" placeholder=" "
                  class="peer" />
                <label for="AppointeeLastName" class="mandatory">Last Name</label>
              </div>

              <!-- Appointee Relation  -->
              <div class="relative min-w-36">
                <div class="icon">
                  <mat-icon>people</mat-icon>
                </div>
                <select id="AppointeeRelation" name="AppointeeRelation" class="peer" formControlName="AppointeeRelation"
                  placeholder=" ">
                  <option value="0">-- Select --</option>
                  <option class="example-radio-button" *ngFor="let option of NomineeRelationList" [value]="option.Code">
                    {{ option.Name }}
                  </option>
                </select>
                <label for="AppointeeRelation" class="mandatory">Relation</label>
              </div>

              <!-- Appointee DOB  -->
              <div class="relative max-w-fit min-w-40">
                <div class="flex">
                  <div class="icon">
                    <mat-datepicker-toggle class="-ml-2" matIconSuffix [for]="AppointeeDOB"></mat-datepicker-toggle>
                    <mat-datepicker #AppointeeDOB></mat-datepicker>
                  </div>
                  <input matInput type="text" id="AppointeeDOB" formControlName="AppointeeDOB" class="peer"
                    placeholder="__/__/____" datemask [matDatepicker]="AppointeeDOB" [max]="maxBirthDate" />
                  <label for="AppointeeDOB" class="mandatory">Date of Birth</label>
                </div>
              </div>
            </div>

            <!-- Address -->
            <div class="col-span-2 lg:col-span-4 pt-2 font-semibold">
              <p>Address</p>
            </div>
            <!-- Address -->
            <div class="md:grid space-y-3 grid-cols-2 lg:grid-cols-3 gap-x-9">
              <div class="relative w-full self-end">
                <div class="icon">
                  <mat-icon>home</mat-icon>
                </div>
                <input type="text" id="Address" formControlName="Address" placeholder=" " class="peer" />
                <label for="Address" class="mandatory">Address</label>
              </div>
              <!-- Address line  -->
              <div class="relative w-full self-end">
                <div class="icon">
                  <mat-icon>home</mat-icon>
                </div>
                <input type="text" id="Address1" formControlName="Address1" placeholder=" " class="peer" />
                <label for="Address1">Address line 2</label>
              </div>

              <!-- PIN Code -->
              <div class="relative w-60 self-end">
                <div class="flex">
                  <div class="icon">
                    <mat-icon> pin_drop</mat-icon>
                  </div>
                  <input type="text" Onlynumber id="PINCode" maxlength="6" class="peer" matInput
                    formControlName="PinCode" [matAutocomplete]="PINSearch" placeholder=" " required />
                  <mat-autocomplete #PINSearch="matAutocomplete" (optionSelected)="PinCodeSelected($event)">
                    <mat-option *ngFor="let pincode of pincodes$ | async" [value]="pincode">
                      {{ pincode.PinCode }} {{ pincode.CityName }}
                    </mat-option>
                  </mat-autocomplete>
                  <button class="-m-5 z-10" type="button" (click)="openDiologPincode('Pincode', 'Select PIN Code', 1)">
                    <mat-icon class="-ml-2">search</mat-icon>
                  </button>
                  <button *ngIf="buyICICIHeathForm.get('PolicyHolder.PinCode').value" type="button"
                  class="-m-7 z-10" aria-label="clear" matTooltip="Clear"
                  (click)="clear('PolicyHolder.PinCode')">
                  <mat-icon>clear</mat-icon>
              </button>
                  <label for="PINCode" class="mandatory">PIN Code</label>
                </div>
              </div>
              <!-- City -->
              <div class="relative min-w-36">
                <div class="icon">
                  <mat-icon>location_city</mat-icon>
                </div>
                <input type="text" readonly id="City" formControlName="City" placeholder=" " class="peer" />
                <label for="City" class="mandatory">City</label>
              </div>
              <!-- State -->
              <div class="relative min-w-36">
                <div class="icon">
                  <mat-icon>domain</mat-icon>
                </div>
                <input type="text" readonly id="State" formControlName="StateName" placeholder=" " class="peer" />
                <label for="State" class="mandatory">State</label>
              </div>

            </div>

            <!-- Contact Details -->
            <div class="col-span-2 lg:col-span-4 pt-2 font-semibold">
              <p>Contact Details</p>
            </div>

            <!-- Mobile -->
            <div class="md:grid space-y-3 grid-cols-2 lg:grid-cols-3 gap-x-9">
              <div class="relative self-end">
                <div class="icon">
                  <mat-icon>phone</mat-icon>
                </div>
                <input type="text" Onlynumber maxlength="10" id="Mobile" formControlName="Mobile" placeholder=" "
                  class="peer" />
                <label for="Mobile" class="mandatory">Mobile</label>
              </div>
              <!-- Email -->
              <div class="relative">
                <div class="icon">
                  <mat-icon>email</mat-icon>
                </div>
                <input type="email" id="Email" formControlName="Email" placeholder=" " maxlength="60" class="peer" />
                <label for="Email" class="mandatory">Email</label>
              </div>
            </div>

            <!-- Income -->
            <div class="col-span-2 lg:col-span-4 pt-2 font-semibold">
              <p>Income</p>
            </div>

            <div class="md:grid space-y-3 grid-cols-2 lg:grid-cols-3 gap-x-9">
              <!-- Monthly Income -->
              <div class="relative sm:min-w-52 self-end">
                <div class="icon rs">â‚¹</div>
                <input type="text" Onlynumber id="GrossMonthlyIncome" maxlength="9" formControlName="GrossMonthlyIncome"
                  placeholder=" " class="peer" min="0" />
                <label for="GrossMonthlyIncome" class="mandatory">Gross Monthly Income</label>
              </div>
            </div>

            <div class="col-span-2 lg:col-span-4 pt-2 font-semibold flex">
              <p>KYC</p>
              <div class="flex pl-1" *ngIf="KYC?.KYCId">
                <mat-icon class="kycsuccess" title="Verified">verified_user</mat-icon>
              </div>
            </div>
            <!-- PAN -->
            <div class="md:grid space-y-3 grid-cols-2 lg:grid-cols-3 gap-x-9">
              <div class="relative self-end">
                <div class="icon">
                  <mat-icon>credit_card</mat-icon>
                </div>
                <input type="text" maxlength="10" id="PANCard" placeholder=" " class="peer" formControlName="PANNo" />
                <label for="PANCard" class="mandatory">PAN</label>
              </div>
              <div class="relative self-end">
                <div class="icon">
                  <mat-icon>credit_card</mat-icon>
                </div>
                <input type="text" maxlength="12" id="UID" placeholder=" " class="peer" formControlName="UID" />
                <label for="UID">Aadhar</label>
              </div>
            </div>
          </div>
          <div class="mt-3">
            <button class="form-button mr-3" mat-button (click)="submitStep(stepper)">
              Verify & Next
            </button>
          </div>
        </form>
      </mat-step>

      <!-- Second stepper -->
      <mat-step [stepControl]="" label="Insured Member Details">
        <form [formGroup]="buyICICIHeathForm" class="py-2" action="">
          <!-- member region start -->
          <div formArrayName="PolicyMemberDetails">
            <div *ngFor="let items of member; let i = index" class="py-2">
              <div [formGroupName]="i"
                class="border -mx-3 px-2 py-2 md:grid grid-cols-[minmax(50px,90px)_minmax(300px,1fr)]">
                <div class="mt-4 col-start-1">
                  <div class="w-fit h-fit">
                    <div>
                      <img src="{{ items.member }}" alt="img" />
                    </div>
                    <div>
                      <p class="text-center">{{ items.title }}</p>
                    </div>
                  </div>
                </div>

                <div class="md:grid space-y-8 lg:grid-cols-3 grid-cols-2 sm:gap-x-2 md:gap-x-9 py-3">
                  <!-- First Name -->

                  <div class="relative self-end min-w-36">
                    <div class="icon">
                      <mat-icon>person</mat-icon>
                    </div>
                    <input type="text" id="FirstName{{ i }}" AlphabetOnly formControlName="FirstName" placeholder=" " maxlength="60" class="peer" />
                    <label for="FirstName{{ i }}" class="mandatory">First Name</label>
                  </div>

                  <!-- MiddleName -->
                  <div class="relative self-end min-w-36">
                    <div class="icon">
                      <mat-icon>person</mat-icon>
                    </div>
                    <input type="text" id="MiddleName{{ i }}" AlphabetOnly formControlName="MiddleName" maxlength="60" placeholder=" "
                      class="peer" />
                    <label for="MiddleName{{ i }}">Middle Name</label>
                  </div>

                  <!-- Last Name -->
                  <div class="relative min-w-36">
                    <div class="icon">
                      <mat-icon>person</mat-icon>
                    </div>
                    <input type="text" id="LastName{{ i }}" AlphabetOnly formControlName="LastName" maxlength="60" placeholder=" " class="peer" />
                    <label for="LastName{{ i }}" class="mandatory">Last Name</label>
                  </div>

                  <!-- Gender -->

                  <div class="relative min-w-[134px]">
                    <div class="icon">
                      <mat-icon>person_outline</mat-icon>
                    </div>

                    <input type="text" readonly id="Gender{{ i }}" name="Gender" class="peer" formControlName="Gender"
                      placeholder=" ">

                    <label for="Gender{{ i }}" class="mandatory">Gender</label>
                  </div>

                  <!-- DOB -->

                  <div class="relative max-w-full min-w-36">
                    <div class="flex">
                      <div class="icon">
                        <mat-datepicker-toggle class="-ml-2" matIconSuffix [for]="picker"></mat-datepicker-toggle>
                        <mat-datepicker #picker></mat-datepicker>
                      </div>
                      <input matInput id="DOB{{ i }}" type="text" formControlName="DOB" class="peer"
                        placeholder="__/__/____" datemask [matDatepicker]="picker" [max]="maxBirthDate" />
                      <label for="DOB{{ i }}" class="mandatory">Date of Birth</label>
                    </div>
                  </div>

                  <!-- Occupation -->

                  <div class="relative min-w-[134px]">
                    <div class="relative min-w-[134px]">
                      <div class="icon">
                        <mat-icon>work</mat-icon>
                      </div>
                      <select id="Occupation{{ i }}" name="Occupation" class="peer" formControlName="Occupation"
                        placeholder=" ">
                        <option value="0">-- Select --</option>
                        <option class="example-radio-button" *ngFor="let option of OccupationList"
                          [value]="option.Code">{{ option.Name }}
                        </option>
                      </select>
                      <label for="Occupation{{i}}" [ngClass]="items.title == 'Self' ||items.title == 'Spouse' ? 'mandatory' : ''" >Occupation</label>
                    </div>
                  </div>

                  <!-- height & weight -->
                  <div class="grid lg:grid-cols-2 md:col-span-2 gap-7">
                    <div class="grid md:grid-rows-2 gap-3 md:gap-0">
                        <div>
                            <p class="font-semibold text-base">Height</p>
                        </div>
                        <div class="grid-cols-2 grid gap-7">
                            <!-- height -->
                            <div class="relative">
                                <div class="icon">
                                    <mat-icon> border_vertical</mat-icon>
                                </div>
                                <input type="text" Onlynumber maxlength="3" id="HeightInFeet{{i}}" formControlName="HeightInFeet" placeholder=" " class="peer" (keyup)="SetCM(i)">
                                <label for="HeightInFeet{{i}}" class="mandatory ">Feet</label>
                            </div>
                            <div class="relative">
                                <div class="icon">
                                    <mat-icon> border_vertical</mat-icon>
                                </div>
                                <input type="text" Onlynumber maxlength="3" id="HeightInInch{{i}}" formControlName="HeightInInch" placeholder=" " class="peer" (keyup)="SetCM(i)">
                                <label for="HeightInInch{{i}}" class="mandatory ">Inch</label>
                            </div>

                        </div>
                    </div>

                    <div class="grid md:grid-rows-2 gap-3 md:gap-0">
                        <div>
                            <p class="font-semibold text-base">Weight</p>
                        </div>
                        <div class="grid-cols-2 grid gap-7">

                            <!-- weight -->
                            <div class="relative">
                                <div class="icon">
                                    <mat-icon>blur_on</mat-icon>
                                </div>
                                <input type="text" Onlynumber maxlength="3" id="WeightKG{{i}}" formControlName="WeightKG" placeholder=" " class="peer">
                                <label for="WeightKG{{i}}" class="mandatory ">KG</label>
                            </div>
                        </div>
                    </div>

                </div>
                </div>

                <!-- Medical History -->
                <div class="md:col-start-2 pt-2 font-semibold flex">
                  <p>Medical History</p>
                </div>

                <div class="md:col-start-2">
                  <ul class="list-decimal space-y-3 pl-4 md:pl-0">
                    <li *ngFor="let IllnessCode of IllnessCodes" class="w-full mt-que py-2 dark:border-opacity-50">
                      {{ IllnessCode.Text }}
                      <div class="py-2">
                        <input type="radio" [value]="True" formControlName="{{ IllnessCode.Code }}" class="pl-2" />
                        <span (click)="radioLabel(i,IllnessCode.Code,true)" class="pr-5 pl-1 font-medium -mt-1 cursor-pointer"> Yes</span>

                        <input type="radio" [value]="False" formControlName="{{ IllnessCode.Code }}" class="pl-2" />
                        <span (click)="radioLabel(i,IllnessCode.Code,false)" class="pl-1 font-medium -mt-1 cursor-pointer"> No</span>
                      </div>
                    </li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </form>
        <!-- member region end  -->
        <div class="mt-3">
          <button class="form-button m-2" mat-button matStepperPrevious>
            Back
          </button>
          <button class="form-button m-2" mat-button (click)="ProceedtoPay()">
            Proceed to Pay
          </button>
        </div>
      </mat-step>
    </mat-stepper>
  </div>
</div>
